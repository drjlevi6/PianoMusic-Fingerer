%!PS
% vshow.ps: print strings vertically


%--Definitions-----------------------------------------------------------------

/v_show {								% Draw string vertically,
										%	starting at current point.
										% stack: string
	dup 0 1 3 2 roll length 1 sub {		% create for loop using string's length
		exch dup 3 2 roll				% stack: string string index
		1 getinterval dup show
			stringwidth pop neg 
			font_height neg rmoveto
	} for
	pop
} def

/vb_show {								% Draw string vertically,
										%	ending at current point.
										% stack: string
	dup length font_height 2 sub mul	% move upwards (no. string chars) *
	0 exch rmoveto						%	(font height)
	v_show
} def


%--Examples--------------------------------------------------------------------
%/font_height  { 18 } bind def
%/Helvetica findfont font_height scalefont setfont
%
%/v_str { (Starts) } bind def
%/vb_str { (Ends) } bind def
%/start_point {150 400} bind def
%
%start_point moveto (------> ) show
%v_str v_show
%v_str length font_height mul 0 exch rmoveto
%(S  ------> ) show
%vb_str vb_show
%currentpoint pop start_point exch pop moveto
%(   ------> ) show
%(25) v_show
%currentpoint pop start_point exch pop moveto
%%currentpoint pstack bb
%(   ------> ) show
%(5431) vb_show